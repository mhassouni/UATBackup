<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Alert_Email</name>
        <label>Alert Email</label>
        <locationX>938</locationX>
        <locationY>934</locationY>
        <actionName>Lead.Email_alert_Lead_Owner</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>Decisions_0</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Lead.Email_alert_Lead_Owner</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>55.0</apiVersion>
    <decisions>
        <name>Decisions</name>
        <label>Decisions</label>
        <locationX>601</locationX>
        <locationY>1243</locationY>
        <defaultConnector>
            <targetReference>Decisions_0_0_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Statut_cloture_Lead_PF</name>
            <conditionLogic>1 AND ( 2 OR 3 OR 4) AND (5 OR 6)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Clôturée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Abandonnée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Gagnée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_PF_Draft</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_PF_En_cours</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lead_Pf_Lecture_Seule</targetReference>
            </connector>
            <label>Statut cloturé Lead PF</label>
        </rules>
        <rules>
            <name>statut_Cloture</name>
            <conditionLogic>1 AND ( 2 OR 3 OR 4) AND (5 OR 6)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Clôturée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Abandonnée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Gagnée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_PetitForestier_com</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_Zefirent_com</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_RecordType</targetReference>
            </connector>
            <label>statut Cloturé</label>
        </rules>
        <rules>
            <name>IsConverted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.HasOptedOutOfEmail__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsConverted</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>IsConverted</label>
        </rules>
    </decisions>
    <decisions>
        <name>Decisions_0</name>
        <label>Decisions</label>
        <locationX>602</locationX>
        <locationY>946</locationY>
        <defaultConnector>
            <targetReference>Decisions</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>statut_Qualifier</name>
            <conditionLogic>(1 AND 2 AND ((3 AND 4) OR (18 AND 19)) AND 5 AND 6 AND 7 AND 8 AND 9 AND 10  AND 11  AND 12 AND 13 AND 15 AND 16 AND 17 AND 20)  OR (1 AND 2  AND 6 AND 7 AND 8 AND 9 AND 10  AND 11  AND 12 AND 13 AND 14 AND 15 AND 16 AND 17 AND 20)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Particulier_Professionnel__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IdentifiantNational__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.TypeIdentifiantNational__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Company</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Agence_PF__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.LeadSource</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.TypeActivite__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.LastName</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FirstName</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Salutation</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Phone</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Email</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Particulier_Professionnel__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Particulier</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Ville__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CodePostal__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Créée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IdentifiantNational__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.TypeIdentifiantNational__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>En création</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Rue__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Lead_Statut</targetReference>
            </connector>
            <label>Statut Qualifier</label>
        </rules>
    </decisions>
    <decisions>
        <name>Decisions_0_0</name>
        <label>Decisions</label>
        <locationX>576</locationX>
        <locationY>419</locationY>
        <defaultConnector>
            <targetReference>Lead_Owner</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Lead_PF_Draft_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_PF_Draft</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lead_PF_En_Cours</targetReference>
            </connector>
            <label>Lead PF Draft</label>
        </rules>
        <rules>
            <name>Lead_PF_Lecture_seule_Gagne_Abandonne</name>
            <conditionLogic>1 AND ( 2 OR 3 )</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_Lead_PF_Lecture_Seule</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Créée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Qualifiée</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Lead_PF_Lecture_Seule</targetReference>
            </connector>
            <label>Lead PF Lecture seule Gagné/Abandonné</label>
        </rules>
        <rules>
            <name>Lead_PetitForestier_com_Lecture_seule_Gagne_Abandonne</name>
            <conditionLogic>1 AND ( 2 OR 3 )</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_PF_Lecture_Seule</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Créée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Qualifiée</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Lead_PetitForestier_com_Lecture_seule</targetReference>
            </connector>
            <label>Lead PetitForestier.com Lecture seule Gagné/Abandonné</label>
        </rules>
        <rules>
            <name>Lead_Zefirent_com_Lecture_seule_Gagne_Abandonne</name>
            <conditionLogic>1 AND ( 2 OR 3 )</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.Lead_RecordTypeId_Zefirent_com_Lecture_seule</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Créée</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Qualifiée</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Lead_Zefirent_com_Lecture_seule</targetReference>
            </connector>
            <label>Lead Zefirent.com - Lecture seule Gagné/Abandonné</label>
        </rules>
    </decisions>
    <decisions>
        <name>Decisions_0_0_0</name>
        <label>Decisions</label>
        <locationX>604</locationX>
        <locationY>1633</locationY>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>IsConverted_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.HasOptedOutOfEmail__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsConverted</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update</targetReference>
            </connector>
            <label>Is Converted</label>
        </rules>
    </decisions>
    <decisions>
        <name>Lead_Owner</name>
        <label>Lead Owner</label>
        <locationX>574</locationX>
        <locationY>681</locationY>
        <defaultConnector>
            <targetReference>Decisions_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Owner_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Date_Heure_Affectation</targetReference>
            </connector>
            <label>Owner Changed</label>
        </rules>
    </decisions>
    <description>WFC_LifeCycle_Lead
WFC_Lead_OwnerNotification
WFC_Lead_Contact_Conversion
WFC_Lead_PF</description>
    <environments>Default</environments>
    <interviewLabel>Lead Create Update {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Lead Create Update</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordUpdates>
        <name>Date_Heure_Affectation</name>
        <label>Date Heure Affectation</label>
        <locationX>1006</locationX>
        <locationY>681</locationY>
        <connector>
            <targetReference>Alert_Email</targetReference>
        </connector>
        <inputAssignments>
            <field>Date_heure_affectation__c</field>
            <value>
                <elementReference>$Record.LastModifiedDate</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Lead_PF_En_Cours</name>
        <label>Lead PF En Cours</label>
        <locationX>332</locationX>
        <locationY>490</locationY>
        <connector>
            <targetReference>Lead_Owner</targetReference>
        </connector>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.Lead_RecordTypeId_PF_En_cours</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Lead_Pf_Lecture_Seule</name>
        <label>Lead Pf Lecture Seule</label>
        <locationX>778</locationX>
        <locationY>1449</locationY>
        <connector>
            <targetReference>Decisions_0_0_0</targetReference>
        </connector>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.Lead_RecordTypeId_Lead_PF_Lecture_Seule</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update</name>
        <label>Update checkbox</label>
        <locationX>608</locationX>
        <locationY>1907</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ConvertedContactId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>HasOptedOutOfEmail</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_ByPass</name>
        <label>Update ByPass</label>
        <locationX>234</locationX>
        <locationY>1174</locationY>
        <connector>
            <targetReference>Decisions</targetReference>
        </connector>
        <inputAssignments>
            <field>BayPass_Lead_ValidationRule__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead_PetitForestier_com_Lecture_seule</name>
        <label>Update : Lead PetitForestier.com Lecture seule</label>
        <locationX>1003</locationX>
        <locationY>279</locationY>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.Lead_RecordTypeId_PetitForestier_com</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead_PF_Lecture_Seule</name>
        <label>Update : Lead PF - Lecture Seule</label>
        <locationX>1002</locationX>
        <locationY>423</locationY>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.Lead_RecordTypeId_PF_En_cours</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead_Statut</name>
        <label>Update Lead Statut</label>
        <locationX>211</locationX>
        <locationY>935</locationY>
        <connector>
            <targetReference>Update_ByPass</targetReference>
        </connector>
        <inputAssignments>
            <field>BayPass_Lead_ValidationRule__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Date_Heure_qualification__c</field>
            <value>
                <elementReference>$Record.LastModifiedDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Gender__c</field>
            <value>
                <elementReference>$Record.Salutation</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Qualifiée</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Lead_Zefirent_com_Lecture_seule</name>
        <label>Update : Lead Zefirent.com - Lecture seule</label>
        <locationX>1006</locationX>
        <locationY>551</locationY>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.Lead_RecordTypeId_Zefirent_com</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_RecordType</name>
        <label>Update RecordType</label>
        <locationX>449</locationX>
        <locationY>1459</locationY>
        <connector>
            <targetReference>Decisions_0_0_0</targetReference>
        </connector>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>$Label.Lead_RecordTypeId_PF_Lecture_Seule</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>458</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>Decisions_0_0</targetReference>
        </connector>
        <object>Lead</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
</Flow>
