<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Notification_chatterCM</name>
        <label>Notification chatter CM</label>
        <locationX>1590</locationX>
        <locationY>1379</locationY>
        <actionName>chatterPost</actionName>
        <actionType>chatterPost</actionType>
        <connector>
            <targetReference>Attr_account_Refus</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>text</name>
            <value>
                <elementReference>MessageChatter_CM</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>subjectNameOrId</name>
            <value>
                <stringValue>{!$Record.Id}</stringValue>
            </value>
        </inputParameters>
        <nameSegment>chatterPost</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>60.0</apiVersion>
    <assignments>
        <name>Attr_account_Refus</name>
        <label>SetStatut_En attente</label>
        <locationX>1502</locationX>
        <locationY>1571</locationY>
        <assignmentItems>
            <assignToReference>AccountToUpdateRecord.Statut__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>En attente analyse CM</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AccountToUpdateRecord.AgrementSFAC__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AccountToUpdateRecord.Tech_ChatterCM__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copier_1_sur_Set_MessageChatterToCM_EN</name>
        <label>Set_MessageChatterToCM_EN</label>
        <locationX>314</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  is waiting for the account to be validated. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copier_1_sur_Set_MessageChatterToCM_ND</name>
        <label>Set_MessageChatterToCM_ND</label>
        <locationX>842</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue> @[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  wacht op de validatie van de account. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copier_1_sur_Set_MessageChatterToCM_SK</name>
        <label>Set_MessageChatterToCM_SK</label>
        <locationX>2954</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  čaká na potvrdenie účtu. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Init</name>
        <label>Init</label>
        <locationX>3127</locationX>
        <locationY>323</locationY>
        <assignmentItems>
            <assignToReference>AccountToUpdateRecord.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_ByPass</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Account_StatutValid</name>
        <label>Set_Account_StatutValidé</label>
        <locationX>3394</locationX>
        <locationY>863</locationY>
        <assignmentItems>
            <assignToReference>AccountToUpdateRecord.Statut__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Validé</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_CZ</name>
        <label>Set_MessageChatterToCM_CZ</label>
        <locationX>1898</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue> @[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  čeká na potvrzení účtu. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_DE</name>
        <label>Set_MessageChatterToCM_DE</label>
        <locationX>578</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  wartet auf die Bestätigung des Kontos. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_ES</name>
        <label>Set_MessageChatterToCM_ES</label>
        <locationX>1370</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  está esperando a que se valide la cuenta. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_FR</name>
        <label>Set_MessageChatterToCM_FR</label>
        <locationX>50</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name} Attend la validation du compte.  {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_HU</name>
        <label>Set_MessageChatterToCM_HU</label>
        <locationX>2426</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  a számla érvényesítésére vár. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_IT</name>
        <label>Set_MessageChatterToCM_IT</label>
        <locationX>1106</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  sta aspettando la convalida del conto. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_PL</name>
        <label>Set_MessageChatterToCM_PL</label>
        <locationX>2162</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  czeka na zatwierdzenie konta. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_PT</name>
        <label>Set_MessageChatterToCM_PT</label>
        <locationX>1634</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>@[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}   está à espera que a conta seja validada. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MessageChatterToCM_RO</name>
        <label>Set_MessageChatterToCM_RO</label>
        <locationX>2690</locationX>
        <locationY>1079</locationY>
        <assignmentItems>
            <assignToReference>MessageChatter_CM</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue> @[{!Get_ChatterGroupCM.IDGroupeChatter__c}] {!$Record.Owner.Name}  așteaptă ca contul să fie validat. {!$Record.TECHLienSF__c}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Groupe_chatter_found</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Statut_Refuse_CM</name>
        <label>Set_Statut_RefuséCM</label>
        <locationX>4098</locationX>
        <locationY>863</locationY>
        <assignmentItems>
            <assignToReference>AccountToUpdateRecord.Statut__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Refusé CM</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Statut_ValideCM</name>
        <label>Set_Statut_ValideCM</label>
        <locationX>3834</locationX>
        <locationY>863</locationY>
        <assignmentItems>
            <assignToReference>AccountToUpdateRecord.Statut__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Validé CM</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>AlerteCM_Pays</name>
        <label>AlerteCM_Pays</label>
        <locationX>1502</locationX>
        <locationY>971</locationY>
        <defaultConnector>
            <targetReference>Groupe_chatter_found</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Notification_already_sent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Tech_ChatterCM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Attr_account_Refus</targetReference>
            </connector>
            <label>Notification already sent</label>
        </rules>
        <rules>
            <name>AlerteCM_Fran_ais</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>STFR</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>DRO</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIBE</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PILU</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PICH</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_FR</targetReference>
            </connector>
            <label>AlerteCM_Français</label>
        </rules>
        <rules>
            <name>AlerteCM_Anglais</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIZA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PFUK</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIMA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIRL</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIAE</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copier_1_sur_Set_MessageChatterToCM_EN</targetReference>
            </connector>
            <label>AlerteCM_Anglais</label>
        </rules>
        <rules>
            <name>AlerteCM_Allemand</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIDE</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIAT</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_DE</targetReference>
            </connector>
            <label>AlerteCM_Allemand</label>
        </rules>
        <rules>
            <name>AlerteCM_Neerlandais</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIND</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copier_1_sur_Set_MessageChatterToCM_ND</targetReference>
            </connector>
            <label>AlerteCM_Neerlandais</label>
        </rules>
        <rules>
            <name>AlerteCM_Italien</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PITA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>SV NOLLEGIO</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_IT</targetReference>
            </connector>
            <label>AlerteCM_Italien</label>
        </rules>
        <rules>
            <name>AlerteCM_Espagnol</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIES</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_ES</targetReference>
            </connector>
            <label>AlerteCM_Espagnol</label>
        </rules>
        <rules>
            <name>AlerteCM_Portugais</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIPT</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_PT</targetReference>
            </connector>
            <label>AlerteCM_Portugais</label>
        </rules>
        <rules>
            <name>AlerteCM_Tch_que</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PICZ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_CZ</targetReference>
            </connector>
            <label>AlerteCM_Tchèque</label>
        </rules>
        <rules>
            <name>AlerteCM_Polonais</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIPL</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_PL</targetReference>
            </connector>
            <label>AlerteCM_Polonais</label>
        </rules>
        <rules>
            <name>AlerteCM_Hongrois</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIHU</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_HU</targetReference>
            </connector>
            <label>AlerteCM_Hongrois</label>
        </rules>
        <rules>
            <name>AlerteCM_Roumain</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PIRO</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MessageChatterToCM_RO</targetReference>
            </connector>
            <label>AlerteCM_Roumain</label>
        </rules>
        <rules>
            <name>AlerteCM_Slovaque</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PaysRegionPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PISK</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copier_1_sur_Set_MessageChatterToCM_SK</targetReference>
            </connector>
            <label>AlerteCM_Slovaque</label>
        </rules>
    </decisions>
    <decisions>
        <name>Cases</name>
        <label>Cases</label>
        <locationX>3559</locationX>
        <locationY>647</locationY>
        <defaultConnector>
            <targetReference>Update_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Grade_changed_EH_validation</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CotationPF__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IDEulerHermes__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Grade</targetReference>
            </connector>
            <label>Grade changed / EH validation</label>
        </rules>
        <rules>
            <name>Avis_CM_changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.AvisCM__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_AvisCM</targetReference>
            </connector>
            <label>Avis CM changed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Administration_Or_Not</name>
        <label>Check_Administration_Or_Not</label>
        <locationX>1540</locationX>
        <locationY>539</locationY>
        <defaultConnector>
            <targetReference>Cases</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>isNot_Administration</defaultConnectorLabel>
        <rules>
            <name>is_Administration</name>
            <conditionLogic>(1 OR 2 ) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.IdentifiantNational__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>1</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IdentifiantNational__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>2</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Pays_Facturation__pc</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>France</stringValue>
                </rightValue>
            </conditions>
            <label>is_Administration</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_AvisCM</name>
        <label>Check_AvisCM</label>
        <locationX>4098</locationX>
        <locationY>755</locationY>
        <defaultConnector>
            <targetReference>Update_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>is_Favorable</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.AvisCM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Favorable</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Statut_ValideCM</targetReference>
            </connector>
            <label>is_Favorable</label>
        </rules>
        <rules>
            <name>is_D_favorable</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.AvisCM__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Défavorable</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Statut_Refuse_CM</targetReference>
            </connector>
            <label>is_Défavorable</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_ByPass</name>
        <label>Check_ByPass</label>
        <locationX>3127</locationX>
        <locationY>431</locationY>
        <defaultConnectorLabel>is_ByPass</defaultConnectorLabel>
        <rules>
            <name>isNotByPass</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Setup.Bypass__c.BypassWorkflowRules__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Administration_Or_Not</targetReference>
            </connector>
            <label>isNotByPass</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Grade</name>
        <label>Check_Grade</label>
        <locationX>2580</locationX>
        <locationY>755</locationY>
        <defaultConnector>
            <targetReference>Update_Account</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Résultat par défaut</defaultConnectorLabel>
        <rules>
            <name>Grade_10</name>
            <conditionLogic>(1 OR 3) AND 2 AND 4 AND 5 AND 6 AND 7 AND 8</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CotationPF__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>10.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Validé CM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CotationPF__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Bloqué CM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Refusé CM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Refusé DC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Validé DC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Validé CM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_ChatterGroupCM</targetReference>
            </connector>
            <label>Grade=10 or Grade null</label>
        </rules>
        <rules>
            <name>Grade_Inf10</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CotationPF__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CotationPF__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CotationPF__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <numberValue>10.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Refusé CM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Refusé DC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Validé DC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Validé CM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Statut__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Bloqué CM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Account_StatutValid</targetReference>
            </connector>
            <label>Grade &lt; 10</label>
        </rules>
    </decisions>
    <decisions>
        <name>Groupe_chatter_found</name>
        <label>Groupe chatter found?</label>
        <locationX>1502</locationX>
        <locationY>1271</locationY>
        <defaultConnector>
            <targetReference>Notification_chatterCM</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Found</defaultConnectorLabel>
        <rules>
            <name>R_sultat_1_sur_Groupe_chatter_found</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>MessageChatter_CM</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_ChatterGroupCM.IDGroupeChatter__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Attr_account_Refus</targetReference>
            </connector>
            <label>Not found</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>Form_LenSIREN</name>
        <dataType>Number</dataType>
        <expression>LEN({!$Record.IdentifiantNational__c})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>Form_PaysRegionPF</name>
        <dataType>String</dataType>
        <expression>IF(LEFT(TEXT({!$Record.PaysRegionPF__c}),3) = &#39;DRO&#39;, &#39;DRO&#39;, 
  IF(LEFT(TEXT({!$Record.PaysRegionPF__c}),4) = &#39;STFR&#39;, &#39;STFR&#39;, TEXT({!$Record.PaysRegionPF__c}))
)</expression>
    </formulas>
    <interviewLabel>FlowTrigger_AccountCMRules {!$Flow.CurrentDateTime}</interviewLabel>
    <label>FlowTrigger_AccountCMRules</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_ChatterGroupCM</name>
        <label>Get_ChatterGroupCM</label>
        <locationX>1502</locationX>
        <locationY>863</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>AlerteCM_Pays</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>PaysRegionPF__c</field>
            <operator>StartsWith</operator>
            <value>
                <elementReference>Form_PaysRegionPF</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>GroupeCMPaysRegionPF__mdt</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>IDGroupeChatter__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Account</name>
        <label>Update Account</label>
        <locationX>3559</locationX>
        <locationY>1847</locationY>
        <inputReference>AccountToUpdateRecord</inputReference>
    </recordUpdates>
    <start>
        <locationX>3001</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Init</targetReference>
        </connector>
        <filterFormula>AND(
OR (
text({!$Record__Prior.Statut__c}) &lt;&gt; &#39;En attente analyse CM&#39;,
text({!$Record.Statut__c}) &lt;&gt; &#39;Inactif&#39;
),
OR 
(
{!$Record.RecordType.DeveloperName} = &#39;Compte_Client&#39; ,
{!$Record.RecordType.DeveloperName} = &#39;Prospect&#39;
)
,
OR (
ISCHANGED({!$Record.Statut__c}),
ISCHANGED({!$Record.CotationPF__c}),
ISCHANGED({!$Record.AvisCM__c}),
ISCHANGED({!$Record.IDEulerHermes__c})
)
)</filterFormula>
        <object>Account</object>
        <recordTriggerType>Update</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>AccountToUpdateRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>GroupChatterCM</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CollaborationGroup</objectType>
    </variables>
    <variables>
        <name>MessageChatter</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>MessageChatter_CM</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>StatutCompte</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
